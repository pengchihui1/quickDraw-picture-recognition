const classsName=[
  {id:1,englishName:"sailboat",chineseName:"帆船"},
  {id:2,englishName:"pliers",chineseName:"鉗子"},
  {id:3,englishName:"see saw",chineseName:"見鋸"},
  {id:4,englishName:"garden hose",chineseName:"花園軟管"},
  {id:5,englishName:"cactus",chineseName:"仙人掌"},
  {id:6,englishName:"eyeglasses",chineseName:"眼鏡"},
  {id:7,englishName:"nose",chineseName:"鼻子"},
  {id:8,englishName:"stairs",chineseName:"樓梯"},
  {id:9,englishName:"envelope",chineseName:"信封"},
  {id:10,englishName:"bucket",chineseName:"水桶"},
  {id:11,englishName:"fireplace",chineseName:"壁爐"},
  {id:12,englishName:"swing set",chineseName:"鞦韆椅"},
  {id:13,englishName:"lantern",chineseName:"燈籠"},
  {id:14,englishName:"banana",chineseName:"香蕉"},
  {id:15,englishName:"spreadsheet",chineseName:"電子表格"},
  {id:16,englishName:"elephant",chineseName:"大象"},
  {id:17,englishName:"fish",chineseName:"魚"},
  {id:18,englishName:"helicopter",chineseName:"直升機"},
  {id:19,englishName:"axe",chineseName:"斧頭"},
  {id:20,englishName:"cell phone",chineseName:"手機"},
  {id:21,englishName:"hammer",chineseName:"錘子"},
  {id:22,englishName:"string bean",chineseName:"四季豆"},
  {id:23,englishName:"donut",chineseName:"甜甜圈"},
  {id:24,englishName:"star",chineseName:"星星"},
  {id:25,englishName:"radio",chineseName:"收音機"},
  {id:26,englishName:"cat",chineseName:"貓"},
  {id:27,englishName:"diamond",chineseName:"鑽石"},
  {id:28,englishName:"frog",chineseName:"青蛙"},
  {id:29,englishName:"broom",chineseName:"掃帚"},
  {id:30,englishName:"coffee cup",chineseName:"咖啡杯"},
  {id:31,englishName:"speedboat",chineseName:"快艇"},
  {id:32,englishName:"paper clip",chineseName:"回形針"},
  {id:33,englishName:"bicycle",chineseName:"自行車"},
  {id:34,englishName:"map",chineseName:"地圖"},
  {id:35,englishName:"baseball",chineseName:"棒球"},
  {id:36,englishName:"tennis racquet",chineseName:"網球拍"},
  {id:37,englishName:"line",chineseName:"線條"},
  {id:38,englishName:"dishwasher",chineseName:"洗碗機"},
  {id:39,englishName:"paintbrush",chineseName:"畫筆"},
  {id:40,englishName:"fork",chineseName:"叉子"},
  {id:41,englishName:"teddy - bear",chineseName:"泰迪熊"},
  {id:42,englishName:"The Mona Lisa",chineseName:"蒙娜麗莎"},
  {id:43,englishName:"clarinet",chineseName:"單簧管"},
  {id:44,englishName:"flamingo",chineseName:"火烈鳥"},
  {id:45,englishName:"couch",chineseName:"長椅"},
  {id:46,englishName:"rainbow",chineseName:"彩虹"},
  {id:47,englishName:"bed",chineseName:"床"},
  {id:48,englishName:"lipstick",chineseName:"口紅"},
  {id:49,englishName:"parrot",chineseName:"鸚鵡"},
  {id:50,englishName:"ladder",chineseName:"梯子"},
  {id:51,englishName:"syringe",chineseName:"注射器"},
  {id:52,englishName:"violin",chineseName:"小提琴"},
  {id:53,englishName:"megaphone",chineseName:"擴音器"},
  {id:54,englishName:"car",chineseName:"汽車"},
  {id:55,englishName:"cookie",chineseName:"餅乾"},
  {id:56,englishName:"rollerskates",chineseName:"溜冰鞋"},
  {id:57,englishName:"anvil",chineseName:"鐵砧"},
  {id:58,englishName:"goatee",chineseName:"山羊鬍子"},
  {id:59,englishName:"teapot",chineseName:"茶壺"},
  {id:60,englishName:"octagon",chineseName:"八邊形"},
  {id:61,englishName:"hospital",chineseName:"醫院"},
  {id:62,englishName:"bridge",chineseName:"橋"},
  {id:63,englishName:"leg",chineseName:"腿"},
  {id:64,englishName:"skull",chineseName:"頭骨"},
  {id:65,englishName:"ear",chineseName:"耳朵"},
  {id:66,englishName:"mushroom",chineseName:"蘑菇"},
  {id:67,englishName:"chandelier",chineseName:"枝形吊燈"},
  {id:68,englishName:"pool",chineseName:"水池"},
  {id:69,englishName:"crown",chineseName:"皇冠"},
  {id:70,englishName:"apple",chineseName:"蘋果"},
  {id:71,englishName:"golf club",chineseName:"高爾夫俱樂部"},
  {id:72,englishName:"potato",chineseName:"土豆"},
  {id:73,englishName:"calendar",chineseName:"日曆"},
  {id:74,englishName:"book",chineseName:"書"},
  {id:75,englishName:"trombone",chineseName:"長號"},
  {id:76,englishName:"stove",chineseName:"火爐"},
  {id:77,englishName:"scorpion",chineseName:"蝎子"},
  {id:78,englishName:"blackberry",chineseName:"黑莓"},
  {id:79,englishName:"circle",chineseName:"圓圈"},
  {id:80,englishName:"sheep",chineseName:"綿羊"},
  {id:81,englishName:"sandwich",chineseName:"三明治"},
  {id:82,englishName:"bird",chineseName:"鳥"},
  {id:83,englishName:"bowtie",chineseName:"領結"},
  {id:84,englishName:"wine bottle",chineseName:"酒瓶"},
  {id:85,englishName:"postcard",chineseName:"明信片"},
  {id:86,englishName:"power outlet",chineseName:"電源插座"},
  {id:87,englishName:"chair",chineseName:"椅子"},
  {id:88,englishName:"hedgehog",chineseName:"刺猬"},
  {id:89,englishName:"pants",chineseName:"褲子"},
  {id:90,englishName:"bread",chineseName:"麵包"},
  {id:91,englishName:"microwave",chineseName:"微波爐"},
  {id:92,englishName:"t - shirt",chineseName:"T卹"},
  {id:93,englishName:"rabbit",chineseName:"兔子"},
  {id:94,englishName:"guitar",chineseName:"吉他"},
  {id:95,englishName:"dog",chineseName:"狗"},
  {id:96,englishName:"bulldozer",chineseName:"推土機"},
  {id:97,englishName:"bus",chineseName:"公共汽車"},
  {id:98,englishName:"light bulb",chineseName:"燈泡"},
  {id:99,englishName:"computer",chineseName:"計算機"},
  {id:100,englishName:"hexagon",chineseName:"六邊形"},
  {id:101,englishName:"beach",chineseName:"海灘"},
  {id:102,englishName:"skateboard",chineseName:"滑板"},
  {id:103,englishName:"barn",chineseName:"穀倉"},
  {id:104,englishName:"jail",chineseName:"監獄"},
  {id:105,englishName:"waterslide",chineseName:"水上滑梯"},
  {id:106,englishName:"cooler",chineseName:"冷卻器"},
  {id:107,englishName:"traffic light",chineseName:"紅綠燈"},
  {id:108,englishName:"hand",chineseName:"手"},
  {id:109,englishName:"harp",chineseName:"豎琴"},
  {id:110,englishName:"moon",chineseName:"月亮"},
  {id:111,englishName:"toe",chineseName:"腳趾"},
  {id:112,englishName:"vase",chineseName:"花瓶"},
  {id:113,englishName:"cello",chineseName:"大提琴"},
  {id:114,englishName:"remote control",chineseName:"遙控器"},
  {id:115,englishName:"truck",chineseName:"卡車"},
  {id:116,englishName:"microphone",chineseName:"麥克風"},
  {id:117,englishName:"underwear",chineseName:"內衣"},
  {id:118,englishName:"rifle",chineseName:"步槍"},
  {id:119,englishName:"drill",chineseName:"鑽頭"},
  {id:120,englishName:"square",chineseName:"正方形"},
  {id:121,englishName:"knee",chineseName:"膝蓋"},
  {id:122,englishName:"giraffe",chineseName:"長頸鹿"},
  {id:123,englishName:"snail",chineseName:"蝸牛"},
  {id:124,englishName:"camouflage",chineseName:"偽裝"},
  {id:125,englishName:"table",chineseName:"桌子"},
  {id:126,englishName:"alarm clock",chineseName:"鬧鐘"},
  {id:127,englishName:"camel",chineseName:"駱駝"},
  {id:128,englishName:"shorts",chineseName:"短褲"},
  {id:129,englishName:"lighthouse",chineseName:"燈塔"},
  {id:130,englishName:"suitcase",chineseName:"手提箱"},
  {id:131,englishName:"bottlecap",chineseName:"瓶蓋"},
  {id:132,englishName:"tractor",chineseName:"拖拉機"},
  {id:133,englishName:"carrot",chineseName:"胡蘿蔔"},
  {id:134,englishName:"hockey puck",chineseName:"冰球"},
  {id:135,englishName:"dumbbell",chineseName:"啞鈴"},
  {id:136,englishName:"shoe",chineseName:"鞋"},
  {id:137,englishName:"The Great Wall of China",chineseName:"中國長城"},
  {id:138,englishName:"campfire",chineseName:"篝火"},
  {id:139,englishName:"foot",chineseName:"腳"},
  {id:140,englishName:"flip flops",chineseName:"人字拖"},
  {id:141,englishName:"monkey",chineseName:"猴子"},
  {id:142,englishName:"helmet",chineseName:"頭盔"},
  {id:143,englishName:"bandage",chineseName:"繃帶"},
  {id:144,englishName:"bench",chineseName:"長凳"},
  {id:145,englishName:"stethoscope",chineseName:"聽診器"},
  {id:146,englishName:"grass",chineseName:"草"},
  {id:147,englishName:"mermaid",chineseName:"美人魚"},
  {id:148,englishName:"laptop",chineseName:"筆記本電腦"},
  {id:149,englishName:"hot air balloon",chineseName:"熱氣球"},
  {id:150,englishName:"floor lamp",chineseName:"落地燈"},
  {id:151,englishName:"cow",chineseName:"牛"},
  {id:152,englishName:"dolphin",chineseName:"海豚"},
  {id:153,englishName:"asparagus",chineseName:"蘆筍"},
  {id:154,englishName:"motorbike",chineseName:"摩托車"},
  {id:155,englishName:"skyscraper",chineseName:"摩天大樓"},
  {id:156,englishName:"strawberry",chineseName:"草莓"},
  {id:157,englishName:"umbrella",chineseName:"雨傘"},
  {id:158,englishName:"brain",chineseName:"大腦"},
  {id:159,englishName:"mouth",chineseName:"嘴巴"},
  {id:160,englishName:"zebra",chineseName:"斑馬"},
  {id:161,englishName:"jacket",chineseName:"夾克"},
  {id:162,englishName:"triangle",chineseName:"三角形"},
  {id:163,englishName:"hurricane",chineseName:"颶風"},
  {id:164,englishName:"bracelet",chineseName:"手鐲"},
  {id:165,englishName:"pineapple",chineseName:"菠蘿"},
  {id:166,englishName:"rake",chineseName:"耙子"},
  {id:167,englishName:"steak",chineseName:"牛排"},
  {id:168,englishName:"baseball bat",chineseName:"棒球棒"},
  {id:169,englishName:"arm",chineseName:"手臂"},
  {id:170,englishName:"popsicle",chineseName:"冰棒"},
  {id:171,englishName:"flying saucer",chineseName:"飛碟"},
  {id:172,englishName:"mouse",chineseName:"老鼠"},
  {id:173,englishName:"horse",chineseName:"馬"},
  {id:174,englishName:"crab",chineseName:"螃蟹"},
  {id:175,englishName:"piano",chineseName:"鋼琴"},
  {id:176,englishName:"river",chineseName:"河流"},
  {id:177,englishName:"castle",chineseName:"城堡"},
  {id:178,englishName:"compass",chineseName:"指南針"},
  {id:179,englishName:"binoculars",chineseName:"望遠鏡"},
  {id:180,englishName:"ceiling fan",chineseName:"吊扇"},
  {id:181,englishName:"airplane",chineseName:"飛機"},
  {id:182,englishName:"scissors",chineseName:"剪刀"},
  {id:183,englishName:"garden",chineseName:"花園"},
  {id:184,englishName:"bush",chineseName:"灌木"},
  {id:185,englishName:"bathtub",chineseName:"浴缸"},
  {id:186,englishName:"clock",chineseName:"時鐘"},
  {id:187,englishName:"drums",chineseName:"鼓"},
  {id:188,englishName:"lobster",chineseName:"龍蝦"},
  {id:189,englishName:"flower",chineseName:"花"},
  {id:190,englishName:"diving board",chineseName:"跳水板"},
  {id:191,englishName:"toothbrush",chineseName:"牙刷"},
  {id:192,englishName:"saw",chineseName:"鋸"},
  {id:193,englishName:"sea turtle",chineseName:"海龜"},
  {id:194,englishName:"squiggle",chineseName:"波浪線"},
  {id:195,englishName:"tooth",chineseName:"牙齒"},
  {id:196,englishName:"mountain",chineseName:"山"},
  {id:197,englishName:"sword",chineseName:"劍"},
  {id:198,englishName:"aircraft carrier",chineseName:"航空母艦"},
  {id:199,englishName:"necklace",chineseName:"項鍊"},
  {id:200,englishName:"cup",chineseName:"杯子"},
  {id:201,englishName:"wine glass",chineseName:"紅酒杯"},
  {id:202,englishName:"lighter",chineseName:"打火機"},
  {id:203,englishName:"elbow",chineseName:"彎頭"},
  {id:204,englishName:"blueberry",chineseName:"藍莓"},
  {id:205,englishName:"snowman",chineseName:"雪人"},
  {id:206,englishName:"broccoli",chineseName:"西蘭花"},
  {id:207,englishName:"sun",chineseName:"太陽"},
  {id:208,englishName:"television",chineseName:"電視"},
  {id:209,englishName:"sock",chineseName:"短襪"},
  {id:210,englishName:"pig",chineseName:"豬"},
  {id:211,englishName:"key",chineseName:"鑰匙"},
  {id:212,englishName:"parachute",chineseName:"降落傘"},
  {id:213,englishName:"hot tub",chineseName:"熱水浴缸"},
  {id:214,englishName:"shark",chineseName:"鯊魚"},
  {id:215,englishName:"washing machine",chineseName:"洗衣機"},
  {id:216,englishName:"hat",chineseName:"帽子"},
  {id:217,englishName:"windmill",chineseName:"風車"},
  {id:218,englishName:"frying pan",chineseName:"煎鍋"},
  {id:219,englishName:"fire hydrant",chineseName:"消防栓"},
  {id:220,englishName:"toothpaste",chineseName:"牙膏"},
  {id:221,englishName:"belt",chineseName:"腰帶"},
  {id:222,englishName:"beard",chineseName:"鬍鬚"},
  {id:223,englishName:"rhinoceros",chineseName:"犀牛"},
  {id:224,englishName:"headphones",chineseName:"耳機"},
  {id:225,englishName:"matches",chineseName:"火柴"},
  {id:226,englishName:"knife",chineseName:"刀"},
  {id:227,englishName:"snorkel",chineseName:"浮潛"},
  {id:228,englishName:"feather",chineseName:"羽毛"},
  {id:229,englishName:"duck",chineseName:"鴨子"},
  {id:230,englishName:"pond",chineseName:"池塘"},
  {id:231,englishName:"paint can",chineseName:"油漆罐"},
  {id:232,englishName:"firetruck",chineseName:"消防車"},
  {id:233,englishName:"angel",chineseName:"天使"},
  {id:234,englishName:"bear",chineseName:"熊"},
  {id:235,englishName:"passport",chineseName:"護照"},
  {id:236,englishName:"cake",chineseName:"蛋糕"},
  {id:237,englishName:"telephone",chineseName:"電話"},
  {id:238,englishName:"mosquito",chineseName:"蚊子"},
  {id:239,englishName:"hamburger",chineseName:"漢堡包"},
  {id:240,englishName:"pencil",chineseName:"鉛筆"},
  {id:241,englishName:"peas",chineseName:"豌豆"},
  {id:242,englishName:"ant",chineseName:"螞蟻"},
  {id:243,englishName:"eye",chineseName:"眼睛"},
  {id:244,englishName:"mailbox",chineseName:"郵箱"},
  {id:245,englishName:"grapes",chineseName:"葡萄"},
  {id:246,englishName:"canoe",chineseName:"獨木舟"},
  {id:247,englishName:"pillow",chineseName:"枕頭"},
  {id:248,englishName:"The Eiffel Tower",chineseName:"埃菲爾鐵塔"},
  {id:249,englishName:"sink",chineseName:"水槽"},
  {id:250,englishName:"backpack",chineseName:"背包"},
  {id:251,englishName:"octopus",chineseName:"章魚"},
  {id:252,englishName:"finger",chineseName:"手指"},
  {id:253,englishName:"snowflake",chineseName:"雪花"},
  {id:254,englishName:"tent",chineseName:"帳篷"},
  {id:255,englishName:"nail",chineseName:"釘子"},
  {id:256,englishName:"submarine",chineseName:"潛艇"},
  {id:257,englishName:"wheel",chineseName:"輪子"},
  {id:258,englishName:"church",chineseName:"教會"},
  {id:259,englishName:"toilet",chineseName:"廁所"},
  {id:260,englishName:"purse",chineseName:"錢包"},
  {id:261,englishName:"penguin",chineseName:"企鵝"},
  {id:262,englishName:"bee",chineseName:"蜜蜂"},
  {id:263,englishName:"streetlight",chineseName:"路燈"},
  {id:264,englishName:"van",chineseName:"麵包車"},
  {id:265,englishName:"boomerang",chineseName:"迴旋鏢"},
  {id:266,englishName:"train",chineseName:"火車"},
  {id:267,englishName:"peanut",chineseName:"花生"},
  {id:268,englishName:"stop sign",chineseName:"停車標誌"},
  {id:269,englishName:"basket",chineseName:"籃子"},
  {id:270,englishName:"wristwatch",chineseName:"手錶"},
  {id:271,englishName:"ice cream",chineseName:"冰淇淋"},
  {id:272,englishName:"pizza",chineseName:"披薩"},
  {id:273,englishName:"crocodile",chineseName:"鱷魚"},
  {id:274,englishName:"lollipop",chineseName:"棒棒糖"},
  {id:275,englishName:"hockey stick",chineseName:"曲棍球棒"},
  {id:276,englishName:"soccer ball",chineseName:"足球"},
  {id:277,englishName:"dragon",chineseName:"龍"},
  {id:278,englishName:"camera",chineseName:"相機"},
  {id:279,englishName:"cannon",chineseName:"大砲"},
  {id:280,englishName:"zigzag",chineseName:"之字形"},
  {id:281,englishName:"spoon",chineseName:"勺子"},
  {id:282,englishName:"pickup truck",chineseName:"皮卡車"},
  {id:283,englishName:"ocean",chineseName:"海洋"},
  {id:284,englishName:"bat",chineseName:"蝙蝠"},
  {id:285,englishName:"stitches",chineseName:"縫線"},
  {id:286,englishName:"shovel",chineseName:"鏟子"},
  {id:287,englishName:"palm tree",chineseName:"棕櫚樹"},
  {id:288,englishName:"mug",chineseName:"馬克杯"},
  {id:289,englishName:"hot dog",chineseName:"熱狗"},
  {id:290,englishName:"fan",chineseName:"扇子"},
  {id:291,englishName:"sweater",chineseName:"毛衣"},
  {id:292,englishName:"cruise ship",chineseName:"遊輪"},
  {id:293,englishName:"cloud",chineseName:"雲"},
  {id:294,englishName:"whale",chineseName:"鯨魚"},
  {id:295,englishName:"police car",chineseName:"警車"},
  {id:296,englishName:"saxophone",chineseName:"薩克管"},
  {id:297,englishName:"squirrel",chineseName:"松鼠"},
  {id:298,englishName:"smiley face",chineseName:"笑臉"},
  {id:299,englishName:"owl",chineseName:"貓頭鷹"},
  {id:300,englishName:"house",chineseName:"房子"},
  {id:301,englishName:"school bus",chineseName:"校車"},
  {id:302,englishName:"yoga",chineseName:"瑜伽"},
  {id:303,englishName:"spider",chineseName:"蜘蛛"},
  {id:304,englishName:"flashlight",chineseName:"手電筒"},
  {id:305,englishName:"tree",chineseName:"樹"},
  {id:306,englishName:"swan",chineseName:"天鵝"},
  {id:307,englishName:"panda",chineseName:"熊貓"},
  {id:308,englishName:"ambulance",chineseName:"救護車"},
  {id:309,englishName:"calculator",chineseName:"計算器"},
  {id:310,englishName:"pear",chineseName:"梨"},
  {id:311,englishName:"trumpet",chineseName:"喇叭"},
  {id:312,englishName:"lightning",chineseName:"閃電"},
  {id:313,englishName:"animal migration",chineseName:"動物遷徙"},
  {id:314,englishName:"dresser",chineseName:"梳妝台"},
  {id:315,englishName:"basketball",chineseName:"籃球"},
  {id:316,englishName:"birthday cake",chineseName:"生日蛋糕"},
  {id:317,englishName:"leaf",chineseName:"葉子"},
  {id:318,englishName:"oven",chineseName:"烤箱"},
  {id:319,englishName:"house plant",chineseName:"室內植物"},
  {id:320,englishName:"keyboard",chineseName:"鍵盤"},
  {id:321,englishName:"eraser",chineseName:"橡皮擦"},
  {id:322,englishName:"sleeping bag",chineseName:"睡袋"},
  {id:323,englishName:"moustache",chineseName:"鬍子"},
  {id:324,englishName:"door",chineseName:"門"},
  {id:325,englishName:"hourglass",chineseName:"砂漏"},
  {id:326,englishName:"crayon",chineseName:"蠟筆"},
  {id:327,englishName:"stereo",chineseName:"立體聲音響"},
  {id:328,englishName:"fence",chineseName:"柵欄"},
  {id:329,englishName:"roller coaster",chineseName:"過山車"},
  {id:330,englishName:"onion",chineseName:"洋蔥"},
  {id:331,englishName:"marker",chineseName:"記號筆"},
  {id:332,englishName:"tiger",chineseName:"老虎"},
  {id:333,englishName:"screwdriver",chineseName:"螺絲刀"},
  {id:334,englishName:"watermelon",chineseName:"西瓜"},
  {id:335,englishName:"lion",chineseName:"獅子"},
  {id:336,englishName:"butterfly",chineseName:"蝴蝶"},
  {id:337,englishName:"toaster",chineseName:"烤麵包機"},
  {id:338,englishName:"raccoon",chineseName:"狸"},
  {id:339,englishName:"picture frame",chineseName:"鏡框"},
  {id:340,englishName:"candle",chineseName:"蠟燭"},
  {id:341,englishName:"face",chineseName:"臉"},
  {id:342,englishName:"kangaroo",chineseName:"袋鼠"},
  {id:343,englishName:"snake",chineseName:"蛇"},
  {id:344,englishName:"tornado",chineseName:"龍捲風"},
  {id:345,englishName:"rain",chineseName:"雨"}
]

// 記錄題目 及畫對次數
const condition=[]

$(function() {
  /* No mobile browser support  不支持移動瀏覽器*/
  if (/Mobi/.test(navigator.userAgent)) {
    $('.no-mobile').css('display', 'block');
    $('.doomguy').css('display', 'block');
    $('.doomguy').css('height', '128px');
    $('.doomguy').css('width', '128px');
    $('main').css('display', 'none');
    $('button').css('display', 'none');
    $('.ok-button').css('display', 'none');
    $('.option-show').css('display', 'none');
  }
  
  // showText("#message1", "您有 20 秒的時間來繪製每張圖片。谷歌神經網絡會嘗試猜測你在畫什麼。您將從簡單的難度級別開始。 繪製簡單的大圖。", 0, 40);

  $('.start-button').on('click', function(){
    $('.overlay').css('display', 'none');
    $('.option-show').css('display', 'flex');
    // 創建第一題
    const itemValue=classsName.find(item=>item.englishName===drawableItem)
    condition.push({name:itemValue.chineseName,englishName:itemValue.englishName,state:false,number:0})
    $('#picture').html(condition[condition.length-1].name);
    $('#currentNum').html(condition.length)
    $('#pictureName').html(condition[condition.length-1].name);
  });

  $('.ok-button').on('click', function(){
    $('.main').css('display', 'block');
    $('.overlay').css('display', 'none');
    $('.option-show').css('display', 'none');
    $('#currentNum').html(condition.length)
    $('#pictureName').html(condition[condition.length-1].name);
    timer(playSeconds);
  });

  $('.next-button').on('click',function(){
    clearInterval(countdown);
    nextQeuestionCondition(); //下一題
  })

  // $(document).on('keypress', function(e){
  //   console.log("回車鍵")
  //   if (e.keyCode === 13) {
  //     $('.overlay').css('display', 'none');
  //     $('.option-show').css('display', 'flex');
  //   }
  // });

  $('.retry-button').on('click', function() {
    $('.gameover').css('display', 'none');
    location.reload();
  });
 
});

var difficulty = 'easy';

var levelPics = {
  easy: ['flying saucer', 'door', 'eyeglasses', 'clock', 'skateboard', 'triangle', 'sun'],
  // easy: ['tree', 'flying saucer', 'door', 'eyeglasses', 'clock', 'skateboard', 'triangle', 'envelope', 'scissors', 'basketball', 'lollipop', 'paper clip', 'sun', 'fork'],
  // medium: ['crown', 'hospital', 'bat', 'helicopter', 'laptop', 'penguin', 'shorts', 'parachute', 'bed', 'cactus', 'car', 'lantern', 'owl', 'skull', 'jail', 'campfire', 'hamburger'],
  // hard: ['aircraft carrier', 'animal migration', 'sea turtle', 'the mona lisa', 'hot tub', 'kangaroo', 'bulldozer', 'the great wall of china', 'the eiffel tower', 'dragon', 'trombone', 'sink', 'school bus']
};

// 自動產生第一題
var drawableItem = drawingRandomizer(difficulty, levelPics);

var points = 0;
var playSeconds = 20;
var countdown;

var postDrawing =function() {
  // console.log(canvas.width,canvas.height,trace)
   $.ajax({
    type: "POST",
    headers: {
      'Content-Type': 'application/json'
    },
    url: 'https://inputtools.google.com/request?ime=handwriting&app=quickdraw&dbg=1&cs=1&oe=UTF-8',
    data: JSON.stringify({
      "options": "enable_pre_space",
      "requests": [{
        "writing_guide": {
          "writing_area_width": canvas.width,
          "writing_area_height": canvas.height
        },
        "ink": trace,
        "language":"quickdraw"
      }
      ]
    }),
    success: function(data, status) {
      var resultCrude = data[1][0][1][0];
      var result = resultCrude.toLowerCase();
      // console.log(data)
      questionUpdateStatus(result,drawableItem);//單前題目狀態更新
      if (result === drawableItem) { //返回結果 與當天題目一致
        showGoogleGuess(result, 'success');
        nextQeuestionCondition();//下一題
      } else {
        showGoogleGuess(result, 'nosuccess');
      }
    },
    error: function(data, status) {
      console.log('Error: ' + JSON.stringify(data));
    }
    });
  };

function drawingRandomizer(difficulty, pictures) {
  if (difficulty === 'easy') {
    return randomArrayItem(pictures.easy);
  } else  if (difficulty === 'medium') {
    return randomArrayItem(pictures.medium);
  } else if (difficulty === 'hard') {
    return randomArrayItem(pictures.hard);
  } else {
    return 'No difficulty level given!';
  }
}

function randomArrayItem(arr) {
  var index = Math.floor(Math.random() * arr.length);
  var item = arr[index];
  arr.splice(index, 1);
  return item;
}

function toggleSuccess() {
  $('.point-container').addClass('success');
  setTimeout( function(){
    $('.point-container').removeClass('success');
  }, 500);
}

function displayNextItem() {
  setTimeout(function(){
    clearCanvas();
    drawableItem = drawingRandomizer(difficulty, levelPics);
    const itemValue=classsName.find(item=>item.englishName===drawableItem)
    $('#picture').html(itemValue.chineseName);
  }, 700);
}

function getDifficulty() {
  if (points >= 11) {
    difficulty = 'hard';
    $('.doomguy').css('display', 'inline');
  } else if (points >= 6) {
    difficulty = 'medium';
  } else if (points === undefined) {
    difficulty = 'easy';
  } else {
    difficulty = 'easy';
  }

  $('#difficultytext').html('Difficulty: ' + difficulty);
}

function showGoogleGuess(result, success) {
  var color = success === 'success' ? 'green' : 'blue';
  const itemValue=classsName.find(item=>{ return item.englishName.includes(result)})
  iziToast.show({
    color: color,
    position: 'bottomRight',//bottomRight
    timeout: '1700',
    pauseOnHover: false,
    title: '谷歌認為你在畫這個: ',
    message: itemValue?itemValue.chineseName:"猜不出"
});
}

var showText = function (target, message, index, interval) {
  if (index < message.length) {
    $(target).append(message[index++]);
    setTimeout(function () { showText(target, message, index, interval); }, interval);
  }
};

// 當前題目倒計時
var timerDisplay = document.querySelector('.countdown');
function timer(seconds) {
  $('.countdown').html('20');
  nextQuestionHidden()
  clearInterval(countdown);
  var counter = seconds;
  countdown = setInterval(function(){
    counter--;
    if(counter <=0) {
      clearInterval(countdown);
      nextQeuestionCondition(); //下一題
    }
    timerDisplay.textContent = counter.toString().length>1?counter:'0'+counter;
  }, 1000);
}

// 倒計時，下一題
function nextQuestion() {
  if(condition.length <= 6){
    clearInterval(countdown);
    // console.log("清空",countdown)
    $('.overlay').css('display', 'none');
    $('.main').css('display', 'none');
    $('.option-show').css('display', 'flex');
    questionBreak()
    $('#currentNum').html(condition.length)
    $('#picture').html(condition[condition.length-1].name);
    $('#pictureName').html(condition[condition.length-1].name);
    // console.log("下一題",condition,drawableItem,condition[condition.length-1].name)
    clearCanvas();
  }
}

function gameOver() {
  $('.gameover').css('display', 'block');
  $('#pointsscored').html('你獲得了: ' + points + (points === 1 ? '分.' : '分.'));
}

// 產生題目不重複
function questionBreak() {
  var i = 0;
  while (i <10) {
    drawableItem= drawingRandomizer(difficulty, levelPics)
    const itemValue=classsName.find(item=>item.englishName===drawableItem)//根據英文名字找到中文
    const isTrue=condition.find(item=>item.name===itemValue.chineseName)//這個題目是否存在題目中
    if (!isTrue) {
      condition.push({name:itemValue.chineseName,englishName:itemValue.englishName,state:false,number:0})
      break;
    }
    i += 1;
  }
  return ""
}

// 顯示題目是否做對
function showQuestion(){
  const res=[]
  condition.forEach((item,index)=>{
    res.push(`<p>第${index+1}題: ${item.name}（${!!item.state?"正確":"不正確"})<p>`)
  })
  return res.join("")
}

// 題目更新狀態
function questionUpdateStatus(result,drawableItem){
  // 題目中存在單前題目，並且與返回結果一致時，狀態更改為正確 
  for(var i=0;i<condition.length;i++){
    const same=condition.find(item=>item.englishName===drawableItem)
    // console.log(i,"循環內容",condition[i].englishName,"單前",same.englishName,"請求的值",result)
    if(condition[i].englishName===same.englishName&&same.englishName===result){
        condition[i].state=true
    }else if(condition[i].englishName===same.englishName&&same.englishName!==result){
        condition[i].state=false
    }
  }
}

// 下一題及情況condition
function nextQeuestionCondition(){
  if(condition.length<6){
    nextQuestion();//下一題
  }else{
    $('.gameover').css('display', 'flex');
    $('.overlay').css('display', 'none');
    $('.option-show').css('display', 'none');
    $('.main').css('display', 'none');
    $('#pointsscored').html(showQuestion())
  }
}

// 下一題隱藏
function nextQuestionHidden(){
  if(condition.length>=6){
    $('.next-button').css('display', 'none');
  }
}

